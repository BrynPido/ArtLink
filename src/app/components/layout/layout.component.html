<div class="flex h-screen">
  <div
    class="fixed top-0 left-0 h-full bg-gray-800 text-white p-4 md:p-6 lg:p-8 flex flex-col rounded-r-3xl transition-all duration-300 z-10"
    [ngClass]="{
      'hidden': isMobileView,
      'w-16': !isMobileView,
      'md:w-56': !isMobileView, 
      'lg:w-64': !isMobileView,
      'xl:w-72': !isMobileView
    }"
  >
    <div class="flex flex-col items-center mb-6 md:mb-8">
      <div class="w-10 h-10 md:w-16 md:h-16 lg:w-20 lg:h-20 rounded-full bg-gray-200 flex-shrink-0 overflow-hidden">
        <img [src]="currentUser?.profileImage || 'assets/images/default-avatar.svg'" 
          alt="Profile picture" 
          class="w-full h-full object-cover">
      </div>
      <div class="hidden md:block text-base lg:text-lg font-semibold mt-2">{{currentUser?.name}}</div>
      <div class="hidden md:block text-xs lg:text-sm text-gray-400">&commat;{{currentUser?.username}}</div>
    </div>
    <ul class="md:ml-2">
      <li class="mb-8 md:mb-5 flex items-center">
        <a
          routerLink="/home"
          routerLinkActive="text-blue-500"
          class="flex items-center hover:text-blue-400"
        >
          <span class="material-symbols-rounded align-sub text-xl md:text-2xl">home</span>
          <span class="hidden md:inline ml-3 text-base lg:text-lg">Home</span>
        </a>
      </li>
      <li class="mb-8 md:mb-5 flex items-center">
        <a
          routerLink="/explore"
          routerLinkActive="text-blue-500"
          class="flex items-center hover:text-blue-400"
        >
          <span class="material-symbols-rounded align-sub text-xl md:text-2xl">explore</span>
          <span class="hidden md:inline ml-3 text-base lg:text-lg">Explore</span>
        </a>
      </li>
      <li class="mb-8 md:mb-5 flex items-center">
        <a
          routerLink="/listings"
          routerLinkActive="text-blue-500"
          class="flex items-center hover:text-blue-400"
        >
          <span class="material-symbols-rounded align-sub text-xl md:text-2xl">storefront</span>
          <span class="hidden md:inline ml-3 text-base lg:text-lg">Marketplace</span>
        </a>
      </li>
      <li class="mb-8 md:mb-5 flex items-center">
        <a
          routerLink="/create"
          routerLinkActive="text-blue-500"
          class="flex items-center hover:text-blue-400"
        >
          <span class="material-symbols-rounded align-sub text-xl md:text-2xl">add_circle</span>
          <span class="hidden md:inline ml-3 text-base lg:text-lg">Create</span>
        </a>
      </li>
      <li class="mb-8 md:mb-5 flex items-center">
        <a
          routerLink="/inbox"
          routerLinkActive="text-blue-500"
          class="flex items-center hover:text-blue-400"
        >
          <div class="relative">
            <span class="material-symbols-rounded align-sub text-xl md:text-2xl">inbox</span>
            <span *ngIf="unreadNotificationsCount > 0" class="absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center">
              {{unreadNotificationsCount}}
            </span>
          </div>
          <span class="hidden md:inline ml-3 text-base lg:text-lg">Inbox</span>
        </a>
      </li>
      <li class="mb-8 md:mb-5 flex items-center">
        <a
          [routerLink]="['/profile', currentUser?.id]"
          routerLinkActive="text-blue-500"
          class="flex items-center hover:text-blue-400"
        >
          <span class="material-symbols-rounded align-sub text-xl md:text-2xl">person</span>
          <span class="hidden md:inline ml-3 text-base lg:text-lg">Profile</span>
        </a>
      </li>
    </ul>
    <ul class="md:ml-2 mt-auto">
      <li class="mb-8 md:mb-5 flex items-center">
        <a
          href="#"
          class="flex items-center hover:text-blue-400"
          (click)="logout()"
        >
          <span class="material-symbols-rounded align-sub text-xl md:text-2xl">logout</span>
          <span class="hidden md:inline ml-3 text-base lg:text-lg">Logout</span>
        </a>
      </li>
    </ul>
  </div>

  <!-- Main Content - Adjust margin and padding -->
  <div class="flex-grow p-2 sm:p-3 md:p-4 pb-20 md:pb-4 transition-all duration-300" 
       [ngStyle]="{'margin-left': sidebarWidth}">
    <router-outlet></router-outlet>
  </div>

  <!-- Bottom Navigation - Keep unchanged -->
  <div class="fixed bottom-0 left-0 w-full bg-gray-800 text-white px-1 py-3 flex justify-around md:hidden">
    <a routerLink="/home" routerLinkActive="text-blue-500" class="text-center hover:text-blue-400">
      <span class="material-symbols-rounded text-2xl">home</span>
    </a>
    <a routerLink="/explore" routerLinkActive="text-blue-500" class="text-center hover:text-blue-400">
      <span class="material-symbols-rounded text-2xl">explore</span>
    </a>
    <a routerLink="/listings" routerLinkActive="text-blue-500" class="text-center hover:text-blue-400">
      <span class="material-symbols-rounded text-2xl">storefront</span>
    </a>
    <a routerLink="/inbox" routerLinkActive="text-blue-500" class="text-center hover:text-blue-400 relative">
      <span class="material-symbols-rounded text-2xl">inbox</span>
      <span *ngIf="unreadNotificationsCount > 0" class="absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center">
        {{unreadNotificationsCount}}
      </span>
    </a>
    <a routerLink="/create" routerLinkActive="text-blue-500" class="text-center hover:text-blue-400">
      <span class="material-symbols-rounded text-2xl">add_circle</span>
    </a>
    <a [routerLink]="['/profile', currentUser?.id]" routerLinkActive="text-blue-500" class="text-center hover:text-blue-400">
      <span class="material-symbols-rounded text-2xl">person</span>
    </a>
  </div>
</div>
