<div class="flex h-screen">
  <div
    class="fixed top-0 left-0 h-full w-16 md:w-64 lg:w-80 xl:w-96 bg-gray-800 text-white p-4 md:p-10 flex flex-col rounded-r-3xl transition-all duration-300 z-10"
    [ngClass]="{'hidden': isMobileView }"
  >
    <div class="flex flex-col items-center mb-10">
      <div class="w-12 h-12 md:w-24 md:h-24 rounded-full bg-gray-200 flex-shrink-0 overflow-hidden">
      <img [src]="currentUser?.profileImage || 'assets/images/default-avatar.svg'" 
          alt="Profile picture" 
          class="w-full h-full object-cover"
          width="160" height="160">
    </div>
      <div class="hidden md:block text-xl font-semibold">{{currentUser?.name}}</div>
      <div class="hidden md:block text-sm text-gray-400">&commat;{{currentUser?.username}}</div>
    </div>
    <ul class="md:ml-4">
      <li class="mb-12 md:mb-6 flex items-center">
        <a
          routerLink="/home"
          routerLinkActive="text-blue-500"
          class="flex items-center hover:text-blue-400"
        >
          <span class="material-symbols-rounded align-sub text-2xl">home</span>
          <span class="hidden md:inline ml-4 text-xl">Home</span>
        </a>
      </li>
      <li class="mb-12 md:mb-6 flex items-center">
        <a
          routerLink="/explore"
          routerLinkActive="text-blue-500"
          class="flex items-center hover:text-blue-400"
        >
          <span class="material-symbols-rounded align-sub text-2xl">explore</span>
          <span class="hidden md:inline ml-4 text-xl">Explore</span>
        </a>
      </li>
      <li class="mb-12 md:mb-6 flex items-center">
        <a
          routerLink="/listings"
          routerLinkActive="text-blue-500"
          class="flex items-center hover:text-blue-400"
        >
          <span class="material-symbols-rounded align-sub text-2xl">storefront</span>
          <span class="hidden md:inline ml-4 text-xl">Marketplace</span>
        </a>
      </li>
      <li class="mb-12 md:mb-6 flex items-center">
        <a
          routerLink="/create"
          routerLinkActive="text-blue-500"
          class="flex items-center hover:text-blue-400"
        >
          <span class="material-symbols-rounded align-sub text-2xl">add_circle</span>
          <span class="hidden md:inline ml-4 text-xl">Create</span>
        </a>
      </li>
      <li class="mb-12 md:mb-6 flex items-center">
        <a
          routerLink="/inbox"
          routerLinkActive="text-blue-500"
          class="flex items-center hover:text-blue-400"
        >
          <div class="relative">
            <span class="material-symbols-rounded align-sub text-2xl">inbox</span>
            <span *ngIf="unreadNotificationsCount > 0" class="absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center">
              {{unreadNotificationsCount}}
            </span>
          </div>
          <span class="hidden md:inline ml-4 text-xl">Inbox</span>
        </a>
      </li>
      <li class="mb-12 md:mb-6 flex items-center">
        <a
          [routerLink]="['/profile', currentUser?.id]"
          routerLinkActive="text-blue-500"
          class="flex items-center hover:text-blue-400"
        >
          <span class="material-symbols-rounded align-sub text-2xl">person</span>
          <span class="hidden md:inline ml-4 text-xl">Profile</span>
        </a>
      </li>
    </ul>
    <ul class="md:ml-4 mt-auto">
      <li class="mb-12 md:mb-6 flex items-center">
        <a
          href="#"
          class="flex items-center hover:text-blue-400"
          (click)="logout()"
        >
          <span class="material-symbols-rounded align-sub text-2xl">logout</span>
          <span class="hidden md:inline ml-4 text-xl">Logout</span>
        </a>
      </li>
    </ul>
  </div>

  <!-- Main Content -->
  <div class="flex-grow p-4 pb-24 md:pb-4 transition-all duration-300" [ngStyle]="{'margin-left': sidebarWidth}">
    <router-outlet></router-outlet>
  </div>
  <!-- <div class="flex-grow p-4 transition-all duration-300" [ngStyle]="{'margin-left': sidebarWidth}">
    <router-outlet></router-outlet>
  </div> -->

  <!-- Bottom Navigation for Mobile View -->
  <div class="fixed bottom-0 left-0 w-full bg-gray-800 text-white p-4 flex justify-around md:hidden">
    <a routerLink="/home" routerLinkActive="text-blue-500" class="text-center hover:text-blue-400">
      <span class="material-symbols-rounded text-3xl">home</span>
    </a>
    <a routerLink="/explore" routerLinkActive="text-blue-500" class="text-center hover:text-blue-400">
      <span class="material-symbols-rounded text-3xl">explore</span>
    </a>
    <a routerLink="/listings" routerLinkActive="text-blue-500" class="text-center hover:text-blue-400">
      <span class="material-symbols-rounded text-3xl">storefront</span>
    </a>
    <a routerLink="/create" routerLinkActive="text-blue-500" class="text-center hover:text-blue-400">
      <span class="material-symbols-rounded text-3xl">add_circle</span>
    </a>
    <a [routerLink]="['/profile', currentUser?.id]" routerLinkActive="text-blue-500" class="text-center hover:text-blue-400">
      <span class="material-symbols-rounded text-3xl">person</span>
    </a>
  </div>
</div>
